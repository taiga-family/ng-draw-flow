{"version":3,"file":"projects_demo_src_pages_examples_editor_editor_component_ts.js","mappings":"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","sources":["./projects/demo/src/pages/examples/editor/editor.component.ts","./projects/demo/src/pages/examples/editor/editor.component.html"],"sourcesContent":["import {AsyncPipe, CommonModule} from '@angular/common';\nimport type {OnInit} from '@angular/core';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ViewChild,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {FormControl, ReactiveFormsModule} from '@angular/forms';\nimport type {\n    DfDataConnection,\n    DfDataModel,\n    DfDataNode,\n    DfEvent,\n} from '@ng-draw-flow/core';\nimport {\n    DfConnectionPoint,\n    dfCycleDetectionValidator,\n    dfIsolatedNodesValidator,\n    dfPanZoomOptionsProvider,\n    NgDrawFlowComponent,\n} from '@ng-draw-flow/core';\nimport type {TuiRawLoaderContent} from '@taiga-ui/addon-doc';\nimport {TuiAddonDoc} from '@taiga-ui/addon-doc';\nimport {TuiButton} from '@taiga-ui/core';\nimport {MarkdownModule} from 'ngx-markdown';\nimport {BehaviorSubject} from 'rxjs';\n\n@Component({\n    standalone: true,\n    selector: 'editor',\n    imports: [\n        AsyncPipe,\n        CommonModule,\n        MarkdownModule,\n        NgDrawFlowComponent,\n        ReactiveFormsModule,\n        TuiAddonDoc,\n        TuiButton,\n    ],\n    templateUrl: './editor.component.html',\n    styleUrls: ['./editor.component.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        dfPanZoomOptionsProvider({\n            leftPosition: 50,\n        }),\n    ],\n})\nexport default class EditorComponent implements OnInit {\n    @ViewChild(NgDrawFlowComponent)\n    public editor?: NgDrawFlowComponent;\n\n    public readonly customNodeExample: Record<string, TuiRawLoaderContent> = {\n        Typescript: import('./examples/editor.component.md?raw'),\n        Styles: import('./editor.component.less?raw'),\n        Template: import('./examples/editor.template.md?raw'),\n    };\n\n    public data: DfDataModel = {\n        nodes: [\n            {\n                id: 'node-1',\n                data: {type: 'simpleNode', text: 'This base node'},\n                position: {x: 0, y: 0},\n                startNode: true,\n            },\n            {\n                id: 'node-2',\n                data: {type: 'simpleNode', text: 'This child node 1'},\n                position: {x: 250, y: 50},\n            },\n            {\n                id: 'node-3',\n                data: {type: 'simpleNode', text: 'This child node 2'},\n                position: {x: 250, y: -50},\n            },\n            {\n                id: 'node-4',\n                data: {type: 'simpleNode', text: 'This child node 3'},\n                position: {x: 500, y: 0},\n                endNode: true,\n            },\n        ],\n        connections: [\n            {\n                source: {\n                    nodeId: 'node-1',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-1-output-1',\n                },\n                target: {\n                    nodeId: 'node-2',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-2-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-1',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-1-output-1',\n                },\n                target: {\n                    nodeId: 'node-3',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-3-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-2',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-2-output-1',\n                },\n                target: {\n                    nodeId: 'node-4',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-4-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-3',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-3-output-1',\n                },\n                target: {\n                    nodeId: 'node-4',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-4-input-1',\n                },\n            },\n        ],\n    };\n\n    public currentScale$: BehaviorSubject<number> = new BehaviorSubject<number>(100);\n    public fullscreen$ = new BehaviorSubject<boolean>(false);\n    public counter = 0;\n    public form = new FormControl<DfDataModel>(this.data, [\n        dfCycleDetectionValidator(),\n        dfIsolatedNodesValidator(),\n    ]);\n\n    public ngOnInit(): void {\n        this.form.statusChanges.subscribe((v) => {\n            console.warn(v, 'onStatusChange');\n        });\n\n        this.form.valueChanges.subscribe((v) => {\n            console.warn(v, 'onValueChange');\n        });\n    }\n\n    public onScaleChange(zoomLevel: number): void {\n        this.currentScale$.next(zoomLevel);\n    }\n\n    public onConnectionCreated(event: DfEvent<DfDataConnection>): void {\n        console.warn(event, 'onConnectionCreated');\n    }\n\n    public onConnectionDeleted(event: DfEvent<DfDataConnection>): void {\n        console.warn(event, 'onConnectionDeleted');\n    }\n\n    public onConnectionSelected(event: DfDataConnection): void {\n        console.warn(event, 'onConnectionSelected');\n    }\n\n    public onNodeMoved(event: DfEvent<DfDataNode>): void {\n        console.warn(event, 'onNodeMoved');\n    }\n\n    public onNodeSelected(event: DfDataNode): void {\n        console.warn(event, 'onNodeSelected');\n    }\n\n    public onNodeDeleted(event: DfEvent<DfDataNode>): void {\n        console.warn(event, 'onNodeDeleted');\n    }\n\n    public toggleFullscreen(): void {\n        this.fullscreen$.next(!this.fullscreen$.value);\n        this.editor?.resetPosition();\n    }\n\n    public addNodeToDrawFlow(): void {\n        const id = `new-node-id-${this.counter}`;\n\n        this.data.nodes.push({\n            id,\n            data: {\n                type: 'simpleNode',\n                text: `created node ${this.counter + 1}`,\n            },\n        });\n        this.form.setValue(this.data);\n        this.counter++;\n    }\n}\n","<tui-doc-page header=\"Editor\">\n    Our graph editor is built to serve as an API-first platform, enabling developers to design their own UI elements and\n    interact with the graph through exposed methods. This approach allows for the addition of new nodes and control over\n    the zoom level, complete with the ability to display the current zoom, all while providing a customizable experience\n    tailored to your application's needs.\n\n    <section class=\"tui-space_top-4\">\n        <tui-doc-example\n            style=\"padding: 0\"\n            [content]=\"customNodeExample\"\n        >\n            <div\n                class=\"editor\"\n                [ngClass]=\"{fullscreen: fullscreen$ | async}\"\n            >\n                <ng-draw-flow\n                    [formControl]=\"form\"\n                    (connectionCreated)=\"onConnectionCreated($event)\"\n                    (connectionDeleted)=\"onConnectionDeleted($event)\"\n                    (connectionSelected)=\"onConnectionSelected($event)\"\n                    (nodeDeleted)=\"onNodeDeleted($event)\"\n                    (nodeMoved)=\"onNodeMoved($event)\"\n                    (nodeSelected)=\"onNodeSelected($event)\"\n                    (scale)=\"onScaleChange($event)\"\n                />\n\n                <button\n                    size=\"s\"\n                    tuiButton\n                    type=\"button\"\n                    class=\"add\"\n                    (click)=\"addNodeToDrawFlow()\"\n                >\n                    Add node\n                </button>\n\n                <button\n                    size=\"s\"\n                    tuiButton\n                    type=\"button\"\n                    class=\"fullscreen-btn\"\n                    (click)=\"toggleFullscreen()\"\n                >\n                    {{ (fullscreen$ | async) ? 'Exit from fullscreen' : 'Fullscreen' }}\n                </button>\n\n                <div class=\"scale-controls\">\n                    <button\n                        size=\"s\"\n                        tuiButton\n                        type=\"button\"\n                        (click)=\"editor?.zoomOut()\"\n                    >\n                        zoomOut\n                    </button>\n\n                    <div class=\"scale-value\">{{ currentScale$ | async }}%</div>\n\n                    <button\n                        size=\"s\"\n                        tuiButton\n                        type=\"button\"\n                        (click)=\"editor?.zoomIn()\"\n                    >\n                        zomIn\n                    </button>\n                </div>\n            </div>\n        </tui-doc-example>\n    </section>\n</tui-doc-page>\n"],"names":["AsyncPipe","CommonModule","FormControl","ReactiveFormsModule","DfConnectionPoint","dfCycleDetectionValidator","dfIsolatedNodesValidator","dfPanZoomOptionsProvider","NgDrawFlowComponent","TuiButton","MarkdownModule","BehaviorSubject","EditorComponent","constructor","customNodeExample","Typescript","Styles","Template","data","nodes","id","type","text","position","x","y","startNode","endNode","connections","source","nodeId","connectorType","Output","connectorId","target","Input","currentScale$","fullscreen$","counter","form","ngOnInit","statusChanges","subscribe","v","console","warn","valueChanges","onScaleChange","zoomLevel","next","onConnectionCreated","event","onConnectionDeleted","onConnectionSelected","onNodeMoved","onNodeSelected","onNodeDeleted","toggleFullscreen","value","editor","resetPosition","addNodeToDrawFlow","push","setValue","selectors","viewQuery","EditorComponent_Query","rf","ctx","leftPosition","i0","ɵɵStandaloneFeature","decls","vars","consts","template","EditorComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵlistener","EditorComponent_Template_ng_draw_flow_connectionCreated_6_listener","$event","EditorComponent_Template_ng_draw_flow_connectionDeleted_6_listener","EditorComponent_Template_ng_draw_flow_connectionSelected_6_listener","EditorComponent_Template_ng_draw_flow_nodeDeleted_6_listener","EditorComponent_Template_ng_draw_flow_nodeMoved_6_listener","EditorComponent_Template_ng_draw_flow_nodeSelected_6_listener","EditorComponent_Template_ng_draw_flow_scale_6_listener","ɵɵelementEnd","EditorComponent_Template_button_click_7_listener","EditorComponent_Template_button_click_9_listener","EditorComponent_Template_button_click_13_listener","zoomOut","EditorComponent_Template_button_click_18_listener","zoomIn","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵpipeBind1","ɵɵtextInterpolate1","i1","NgClass","i2","NgControlStatus","FormControlDirective","i3","TuiDocExample","TuiDocPage","styles","encapsulation","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}