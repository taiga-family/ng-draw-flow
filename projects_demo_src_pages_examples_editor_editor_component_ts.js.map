{"version":3,"file":"projects_demo_src_pages_examples_editor_editor_component_ts.js","mappings":"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","sources":["./projects/demo/src/pages/examples/editor/editor.component.ts","./projects/demo/src/pages/examples/editor/editor.component.html"],"sourcesContent":["import {AsyncPipe, CommonModule} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    DestroyRef,\n    inject,\n    type OnInit,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {takeUntilDestroyed} from '@angular/core/rxjs-interop';\nimport {FormControl, ReactiveFormsModule} from '@angular/forms';\nimport {\n    DF_PAN_ZOOM_OPTIONS,\n    DfArrowhead,\n    DfConnectionPoint,\n    DfConnectionType,\n    dfCycleDetectionValidator,\n    type DfDataConnection,\n    type DfDataModel,\n    type DfDataNode,\n    type DfEvent,\n    dfIsolatedNodesValidator,\n    type DfPanZoomOptions,\n    dfPanZoomOptionsProvider,\n    NgDrawFlowComponent,\n    NgDrawFlowStoreService,\n    provideNgDrawFlowConfigs,\n} from '@ng-draw-flow/core';\nimport {TuiAddonDoc, type TuiRawLoaderContent} from '@taiga-ui/addon-doc';\nimport {TuiButton, TuiLabel, TuiTextfield, TuiTextfieldComponent} from '@taiga-ui/core';\nimport {TuiInputNumber} from '@taiga-ui/kit';\nimport {MarkdownModule} from 'ngx-markdown';\nimport {BehaviorSubject, distinctUntilChanged} from 'rxjs';\n\nimport {SimpleNodeComponent} from '../../../app/modules/nodes';\n\n@Component({\n    standalone: true,\n    selector: 'editor',\n    imports: [\n        AsyncPipe,\n        CommonModule,\n        MarkdownModule,\n        NgDrawFlowComponent,\n        ReactiveFormsModule,\n        TuiAddonDoc,\n        TuiButton,\n        TuiInputNumber,\n        TuiLabel,\n        TuiTextfield,\n        TuiTextfieldComponent,\n    ],\n    templateUrl: './editor.component.html',\n    styleUrls: ['./editor.component.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        dfPanZoomOptionsProvider({\n            leftPosition: 50,\n        }),\n        provideNgDrawFlowConfigs({\n            connection: {\n                type: DfConnectionType.SmoothStep,\n                arrowhead: {type: DfArrowhead.Arrow},\n                curvature: 10,\n            },\n            nodes: {\n                simpleNode: SimpleNodeComponent,\n            },\n            options: {\n                nodesDraggable: true,\n                nodesDeletable: true,\n                connectionsDeletable: true,\n                connectionsCreatable: true,\n            },\n        }),\n    ],\n})\nexport default class EditorComponent implements OnInit {\n    private readonly destroyRef = inject(DestroyRef);\n    public readonly panZoomOptions: DfPanZoomOptions =\n        inject<DfPanZoomOptions>(DF_PAN_ZOOM_OPTIONS);\n\n    public readonly drawFlowStore = inject(NgDrawFlowStoreService);\n\n    public readonly customNodeExample: Record<string, TuiRawLoaderContent> = {\n        Typescript: import('./examples/editor.component.md?raw'),\n        Styles: import('./editor.component.less?raw'),\n        Template: import('./examples/editor.template.md?raw'),\n    };\n\n    public data: DfDataModel = {\n        nodes: [\n            {\n                id: 'node-1',\n                data: {type: 'simpleNode', text: 'This base node'},\n                position: {x: 0, y: 0},\n                startNode: true,\n            },\n            {\n                id: 'node-2',\n                data: {type: 'simpleNode', text: 'This child node 1'},\n                position: {x: 250, y: 50},\n            },\n            {\n                id: 'node-3',\n                data: {type: 'simpleNode', text: 'This child node 2'},\n                position: {x: 250, y: -50},\n            },\n            {\n                id: 'node-4',\n                data: {type: 'simpleNode', text: 'This child node 3'},\n                position: {x: 500, y: 0},\n                endNode: true,\n            },\n        ],\n        connections: [\n            {\n                source: {\n                    nodeId: 'node-1',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-1-output-1',\n                },\n                target: {\n                    nodeId: 'node-2',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-2-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-1',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-1-output-1',\n                },\n                target: {\n                    nodeId: 'node-3',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-3-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-2',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-2-output-1',\n                },\n                target: {\n                    nodeId: 'node-4',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-4-input-1',\n                },\n            },\n            {\n                source: {\n                    nodeId: 'node-3',\n                    connectorType: DfConnectionPoint.Output,\n                    connectorId: 'node-3-output-1',\n                },\n                target: {\n                    nodeId: 'node-4',\n                    connectorType: DfConnectionPoint.Input,\n                    connectorId: 'node-4-input-1',\n                },\n            },\n        ],\n    };\n\n    public readonly scaleControl = new FormControl<number>(1, {nonNullable: true});\n    public readonly fullscreen$ = new BehaviorSubject<boolean>(false);\n    public counter = 0;\n    public form = new FormControl<DfDataModel>(this.data, [\n        dfCycleDetectionValidator(),\n        dfIsolatedNodesValidator(),\n    ]);\n\n    public ngOnInit(): void {\n        this.form.statusChanges.subscribe((v) => {\n            console.warn(v, 'onStatusChange');\n        });\n\n        this.form.valueChanges.subscribe((v) => {\n            console.warn(v, 'onValueChange');\n        });\n\n        this.scaleControl.valueChanges\n            .pipe(distinctUntilChanged(), takeUntilDestroyed(this.destroyRef))\n            .subscribe((value: number) => {\n                if (!Number.isFinite(value)) {\n                    return;\n                }\n\n                this.drawFlowStore.setScale(value);\n            });\n\n        this.drawFlowStore.connectionCreated$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfEvent<DfDataConnection>) => {\n                console.warn(data, 'drawFlowStore connectionCreated');\n            });\n\n        this.drawFlowStore.connectionDeleted$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfEvent<DfDataConnection>) => {\n                console.warn(data, 'drawFlowStore connectionDeleted');\n            });\n\n        this.drawFlowStore.connectionSelected$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfDataConnection) => {\n                console.warn(data, 'drawFlowStore connectionSelected');\n            });\n\n        this.drawFlowStore.nodeDeleted$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfEvent<DfDataNode>) => {\n                console.warn(data, 'drawFlowStore nodeDeleted');\n            });\n\n        this.drawFlowStore.nodeMoved$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfEvent<DfDataNode>) => {\n                console.warn(data, 'drawFlowStore nodeMoved');\n            });\n\n        this.drawFlowStore.nodeSelected$\n            .pipe(takeUntilDestroyed(this.destroyRef))\n            .subscribe((data: DfDataNode) => {\n                console.warn(data, 'drawFlowStore nodeSelected');\n            });\n    }\n\n    public onScaleChange(zoomLevel: number): void {\n        this.scaleControl.setValue(zoomLevel / 100, {emitEvent: false});\n    }\n\n    public onConnectionCreated(event: DfEvent<DfDataConnection>): void {\n        console.warn(event, 'onConnectionCreated');\n    }\n\n    public onConnectionDeleted(event: DfEvent<DfDataConnection>): void {\n        console.warn(event, 'onConnectionDeleted');\n    }\n\n    public onConnectionSelected(event: DfDataConnection): void {\n        console.warn(event, 'onConnectionSelected');\n    }\n\n    public onNodeMoved(event: DfEvent<DfDataNode>): void {\n        console.warn(event, 'onNodeMoved');\n    }\n\n    public onNodeSelected(event: DfDataNode): void {\n        console.warn(event, 'onNodeSelected');\n    }\n\n    public onNodeDeleted(event: DfEvent<DfDataNode>): void {\n        console.warn(event, 'onNodeDeleted');\n    }\n\n    public toggleFullscreen(): void {\n        this.fullscreen$.next(!this.fullscreen$.value);\n        this.drawFlowStore.resetPosition();\n    }\n\n    public addNodeToDrawFlow(): void {\n        const id = `new-node-${this.counter}`;\n\n        this.data.nodes.push({\n            id,\n            data: {\n                type: 'simpleNode',\n                text: `created node ${this.counter + 1}`,\n            },\n        });\n\n        this.form.setValue(this.data);\n        this.counter++;\n    }\n}\n","<tui-doc-page header=\"Editor\">\n    Our graph editor is built to serve as an API-first platform, enabling developers to design their own UI elements and\n    interact with the graph through exposed methods. This approach allows for the addition of new nodes and control over\n    the zoom level, complete with the ability to display the current zoom, all while providing a customizable experience\n    tailored to your application's needs.\n\n    <section class=\"tui-space_top-4\">\n        <tui-doc-example\n            style=\"padding: 0\"\n            [content]=\"customNodeExample\"\n        >\n            <div\n                class=\"editor\"\n                [ngClass]=\"{fullscreen: fullscreen$ | async}\"\n            >\n                <ng-draw-flow\n                    [formControl]=\"form\"\n                    (connectionCreated)=\"onConnectionCreated($event)\"\n                    (connectionDeleted)=\"onConnectionDeleted($event)\"\n                    (connectionSelected)=\"onConnectionSelected($event)\"\n                    (nodeDeleted)=\"onNodeDeleted($event)\"\n                    (nodeMoved)=\"onNodeMoved($event)\"\n                    (nodeSelected)=\"onNodeSelected($event)\"\n                    (scale)=\"onScaleChange($event)\"\n                />\n\n                <button\n                    size=\"s\"\n                    tuiButton\n                    type=\"button\"\n                    class=\"add\"\n                    (click)=\"addNodeToDrawFlow()\"\n                >\n                    Add node\n                </button>\n\n                <button\n                    size=\"s\"\n                    tuiButton\n                    type=\"button\"\n                    class=\"fullscreen-btn\"\n                    (click)=\"toggleFullscreen()\"\n                >\n                    {{ (fullscreen$ | async) ? 'Exit from fullscreen' : 'Fullscreen' }}\n                </button>\n\n                <div class=\"scale-controls\">\n                    <button\n                        size=\"s\"\n                        tuiButton\n                        type=\"button\"\n                        (click)=\"drawFlowStore.zoomOut()\"\n                    >\n                        zoomOut\n                    </button>\n\n                    <tui-textfield\n                        tuiTextfieldSize=\"m\"\n                        tuiTheme=\"light\"\n                        class=\"scale-field\"\n                        [tuiTextfieldCleaner]=\"false\"\n                    >\n                        <label tuiLabel>Set scale</label>\n\n                        <input\n                            aria-label=\"Set scale\"\n                            tuiInputNumber\n                            [formControl]=\"scaleControl\"\n                            [max]=\"panZoomOptions.maxZoom\"\n                            [min]=\"panZoomOptions.minZoom\"\n                            [step]=\"panZoomOptions.zoomStep\"\n                        />\n                    </tui-textfield>\n\n                    <div class=\"scale-value\">{{ drawFlowStore.scale$ | async }}%</div>\n\n                    <button\n                        size=\"s\"\n                        tuiButton\n                        type=\"button\"\n                        (click)=\"drawFlowStore.zoomIn()\"\n                    >\n                        zoomIn\n                    </button>\n                </div>\n\n                <div class=\"selection-info\">\n                    <ng-container *ngIf=\"drawFlowStore.selectedNode() as node; else connectionInfo\">\n                        <div class=\"selection-title\">Selected node</div>\n                        <div class=\"selection-value\">{{ node.id }}</div>\n                    </ng-container>\n\n                    <ng-template #connectionInfo>\n                        <ng-container *ngIf=\"drawFlowStore.selectedConnection() as connection; else noSelection\">\n                            <div class=\"selection-title\">Selected connection</div>\n                            <div class=\"selection-value\">\n                                {{ connection.source.nodeId }} → {{ connection.target.nodeId }}\n                            </div>\n                        </ng-container>\n                    </ng-template>\n\n                    <ng-template #noSelection>\n                        <div class=\"selection-title\">Nothing selected</div>\n                    </ng-template>\n                </div>\n            </div>\n        </tui-doc-example>\n    </section>\n</tui-doc-page>\n"],"names":["AsyncPipe","CommonModule","DestroyRef","inject","takeUntilDestroyed","FormControl","ReactiveFormsModule","DF_PAN_ZOOM_OPTIONS","DfArrowhead","DfConnectionPoint","DfConnectionType","dfCycleDetectionValidator","dfIsolatedNodesValidator","dfPanZoomOptionsProvider","NgDrawFlowComponent","NgDrawFlowStoreService","provideNgDrawFlowConfigs","TuiButton","TuiLabel","MarkdownModule","BehaviorSubject","distinctUntilChanged","SimpleNodeComponent","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate","node_r5","id","ɵɵtextInterpolate2","connection_r7","source","nodeId","target","ɵɵtemplate","EditorComponent_ng_template_26_ng_container_0_Template","ɵɵproperty","ctx_r2","drawFlowStore","selectedConnection","_r3","EditorComponent","constructor","destroyRef","panZoomOptions","customNodeExample","Typescript","Styles","Template","data","nodes","type","text","position","x","y","startNode","endNode","connections","connectorType","Output","connectorId","Input","scaleControl","nonNullable","fullscreen$","counter","form","ngOnInit","statusChanges","subscribe","v","console","warn","valueChanges","pipe","value","Number","isFinite","setScale","connectionCreated$","connectionDeleted$","connectionSelected$","nodeDeleted$","nodeMoved$","nodeSelected$","onScaleChange","zoomLevel","setValue","emitEvent","onConnectionCreated","event","onConnectionDeleted","onConnectionSelected","onNodeMoved","onNodeSelected","onNodeDeleted","toggleFullscreen","next","resetPosition","addNodeToDrawFlow","push","selectors","standalone","features","ɵɵProvidersFeature","leftPosition","connection","SmoothStep","arrowhead","Arrow","curvature","simpleNode","options","nodesDraggable","nodesDeletable","connectionsDeletable","connectionsCreatable","ɵɵStandaloneFeature","decls","vars","consts","template","EditorComponent_Template","rf","ctx","ɵɵlistener","EditorComponent_Template_ng_draw_flow_connectionCreated_6_listener","$event","EditorComponent_Template_ng_draw_flow_connectionDeleted_6_listener","EditorComponent_Template_ng_draw_flow_connectionSelected_6_listener","EditorComponent_Template_ng_draw_flow_nodeDeleted_6_listener","EditorComponent_Template_ng_draw_flow_nodeMoved_6_listener","EditorComponent_Template_ng_draw_flow_nodeSelected_6_listener","EditorComponent_Template_ng_draw_flow_scale_6_listener","EditorComponent_Template_button_click_7_listener","EditorComponent_Template_button_click_9_listener","EditorComponent_Template_button_click_13_listener","zoomOut","ɵɵelement","EditorComponent_Template_button_click_22_listener","zoomIn","EditorComponent_ng_container_25_Template","EditorComponent_ng_template_26_Template","ɵɵtemplateRefExtractor","EditorComponent_ng_template_28_Template","ɵɵpureFunction1","_c0","ɵɵpipeBind1","ɵɵtextInterpolate1","maxZoom","minZoom","zoomStep","scale$","selectedNode","_r1","i1","NgClass","NgIf","i2","DefaultValueAccessor","NgControlStatus","FormControlDirective","i3","TuiDocExample","TuiDocPage","i4","TuiInputNumberDirective","TuiInputNumberStep","i5","TuiTextfieldComponent","TuiTextfieldOptionsDirective","styles","encapsulation","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}